<!DOCTYPE html>
<html>

<head>
	  <title>Capture Photo</title>    
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
<title>Forms · Bootstrap</title>

<link rel="canonical" href="https://getbootstrap.com/docs/4.0/components/forms/">

<!-- Bootstrap core CSS -->

<link href="/docs/4.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


<!-- Documentation extras -->

<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet">

<link href="/docs/4.0/assets/css/docs.min.css" rel="stylesheet">

  <!-- <link rel="stylesheet" type="text/css" href="css/index.css" />-->
	<!--	activar camara-->

    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
     <script type="text/javascript" charset="utf-8">

    var pictureSource;   // picture source
    var destinationType; // sets the format of returned value

    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready",onDeviceReady,false);

    // device APIs are available
    //
    function onDeviceReady() {
        pictureSource=navigator.camera.PictureSourceType;
        destinationType=navigator.camera.DestinationType;
    }

    // Called when a photo is successfully retrieved
    //
    function onPhotoDataSuccess(imageData) {
      // Uncomment to view the base64-encoded image data
      // console.log(imageData);

      // Get image handle
      //
      var smallImage = document.getElementById('smallImage');

      // Unhide image elements
      //
      smallImage.style.display = 'block';

      // Show the captured photo
      // The in-line CSS rules are used to resize the image
      //
      smallImage.src = "data:image/jpeg;base64," + imageData;
    }

    // Called when a photo is successfully retrieved
    //
    function onPhotoURISuccess(imageURI) {
      // Uncomment to view the image file URI
      // console.log(imageURI);

      // Get image handle
      //
      var largeImage = document.getElementById('largeImage');

      // Unhide image elements
      //
      largeImage.style.display = 'block';

      // Show the captured photo
      // The in-line CSS rules are used to resize the image
      //
      largeImage.src = imageURI;
    }

    // A button will call this function
    //
    function capturePhoto() {
      // Take picture using device camera and retrieve image as base64-encoded string
      navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50,
        destinationType: destinationType.DATA_URL });
    }

    // A button will call this function
    //
    function capturePhotoEdit() {
      // Take picture using device camera, allow edit, and retrieve image as base64-encoded string
      navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: true,
        destinationType: destinationType.DATA_URL });
    }

    // A button will call this function
    //
    function getPhoto(source) {
      // Retrieve image file location from specified source
      navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50,
        destinationType: destinationType.FILE_URI,
        sourceType: source });
    }

    // Called if something bad happens.
    //
    function onFail(message) {
      alert('Failed because: ' + message);
    }

    </script>
</head>

<body>


*****FORMULARIO D ETIPO ABRIR ARCHIVOS******
<form>
  <div class="form-group">
    <label for="exampleFormControlFile1">Example file input</label>
    <input type="file" class="form-control-file" id="exampleFormControlFile1">
  </div>
</form>
<br>
<br>
<br>
<a href="index.html">Ir menú</a>
<br>
<br>
<br>
	<div class="form-group">
	    <label class="control-label col-sm-2">Foto:
	   <!-- <button class="btn btn-default text-left" onclick="capturePhoto1()"><img src="img/camera24.png" alt="" />Tomar Foto</button>--></label>
	   		<!--<button class="btn btn-default" onclick="capturePhoto()">Foto</button>-->
	    
	    <div class="col-sm-10">
			<input type="image" value="" id="txtImg" onclick="capturePhoto1()" style='background-image: url("img/camera64.png");background-repeat: no-repeat;  background-position: center; ' width="100%" height="100px">		   
		</div>
	 </div>
<script>
//funcion para activar la cámara del dispositivo móvil
function capturePhoto() { 
 // alert("Take picture DATA");
    navigator.camera.getPicture(onSuccess, onFail, { quality: 90, 
        destinationType: Camera.DestinationType.DATA_URL, 
        correctOrientation: true, 
        targetWidth: 1000, 
        targetHeight: 1000 
    }); 
  
}
function capturePhoto1() { 
  //alert("Take picture URI");
	navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50, 
    destinationType: Camera.DestinationType.FILE_URI,  
        correctOrientation: true, 
        targetWidth: 1000, 
        targetHeight: 1000 
    }); 
  
}
function onSuccess(imageData) { 
//alert("imagedata");
var image = document.getElementById('txtImg'); 
    image.src = "data:image/jpeg;base64," + imageData;
    document.getElementById("txtImg").style.backgroundImage="url('data:image/jpeg;base64,"+imageData+"')"; 
    document.getElementById("txtImg").style.backgroundSize="100% 100%"; 
    document.getElementsByName("txtImg").value=document.getElementById("txtImg").style.backgroundImage="url('data:image/jpeg;base64,"+imageData+"')"; 
//    alert(document.getElementsByName("txtImg").value);
//alert("image");
document.getElementById("txtrecuperar").style.backgroundImage="url('data:image/jpeg;base64,"+imageData+"')"; 
} 
function onPhotoURISuccess(imageURI) { 
//alert("imageUri");
     var image = document.getElementById('txtImg'); 
    image.src = imageURI; 
//alert("ok");
    document.getElementById("txtImg").style.backgroundImage="url('"+imageURI+"')"; 
    document.getElementById("txtImg").style.backgroundSize="100% 100%"; 
    document.getElementsByName("txtImg").value=document.getElementById("txtImg").style.backgroundImage="url('"+imageURI+"')"; 
//  alert(document.getElementsByName("txtImg").value);
//alert("image1");
document.getElementById("txtrecuperar").style.backgroundImage="url('"+imageURI+"')";
}
/*
function getPhoto(source) { 
    navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 90, 
        destinationType: destinationType.FILE_URI, 
    sourceType: source }); 
    alert("get Picture");
}
*/
function onFail(message) { 
    alert('Failed because: ' + message); 
}
/*	navigator.camera.getPicture(onSuccess, onFail, { quality: 50, 
    destinationType: Camera.DestinationType.FILE_URI 
}); 
function onSuccess(imageURI) { 
    var image = document.getElementById('myImage'); 
    image.src = imageURI; 
}*/
</script>


 <button onclick="capturePhoto();">Capture Photo</button> <br>
    <button onclick="capturePhotoEdit();">Capture Editable Photo</button> <br>
    <button onclick="getPhoto(pictureSource.PHOTOLIBRARY);">From Photo Library</button><br>
    <button onclick="getPhoto(pictureSource.SAVEDPHOTOALBUM);">From Photo Album</button><br>
    <img style="display:none;width:60px;height:60px;" id="smallImage" src="" />
    <img style="display:none;" id="largeImage" src="" />
    <a href="index.html">Ir menú</a>
</body>

</html>